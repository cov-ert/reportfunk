#!/usr/bin/env python3

import os
import argparse
import yaml
import csv

def make_title(config):

    if "title" in config:
        title = config["title"]
        if "#" not in title:
            title = "## " + title

    else:
        if config["sequencing_centre"] == "DEFAULT":
            title = " ## Cluster investigation "
        else:
            seq_centre = config["sequencing_centre_file"].split(".")[0]
            title = " ## Cluster investigation for sequences generated by " + seq_centre

    config["title"] = title

def report_date(config):

    if report_date in config:
        date = config["report_date"]
        config["report_date"] = f'This investigation was started on {date}'

    else:
        config["report_date"] = ""

def description(config):

    if "description" in config:
        
        description_start = config["description"].replace("'","")
        
        description = "print('''" + description_start + "''')"
             
    else:
        description = ""

    config["description"] = description


def authors(config):

    if "authors" in config:

        authors_str = config["authors"]

        config["authors"] = "**Authors**: " + authors_str

    else:
        config["authors"] = ""

def appendix(omit_appendix_arg, config):

    if "omit_appendix" in config:
        value = config["omit_appendix"]
    else:
        value = omit_appendix_arg

    config["omit_appendix"] = value    

def free_text_args(config):
    report_date(config)
    description(config)
    authors(config)

